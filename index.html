<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#0a0a0f">
  <title>Honoka</title>
  <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
  <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- CSS - 分割されたスタイルシート -->
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/animations.css">
  <link rel="stylesheet" href="css/shared.css">
  <link rel="stylesheet" href="css/views/home.css">
  <link rel="stylesheet" href="css/views/carousel.css">
  <link rel="stylesheet" href="css/views/study.css">
  <link rel="stylesheet" href="css/views/store.css">
  <link rel="stylesheet" href="css/views/stats.css">
</head>
<body>
  <div class="app">
    <main class="content" role="main">
      <header class="header">
        <h1>Honoka</h1>
        <button class="header-btn" id="settingsBtn" aria-label="設定を開く">⚙️</button>
      </header>
      <!-- ホームタブ（カバン） -->
      <section class="tab active" id="tab-home" role="tabpanel" aria-labelledby="nav-home">
        <div class="page-layout">
          <button class="term-hint term-hint--corner" data-term="bag" aria-label="カバンの説明を見る">?</button>

          <div class="book-carousel-container">
            <div class="book-carousel-wrapper" id="bookCarouselWrapper">
              <div class="book-carousel" id="bookCarousel">
                <!-- 本のカルーセルがここに表示される -->
              </div>
            </div>
            <div class="carousel-dots" id="carouselDots">
              <!-- ドットインジケーター -->
            </div>
          </div>

          <div class="selected-book-info" id="selectedBookInfo">
            <!-- 選択中の本の情報 -->
          </div>
        </div>

        <div class="home-actions-fixed">
          <button class="main-btn" id="startBtn" disabled>
            <span class="main-btn-icon">📖</span>
            <span>本を選んでください</span>
          </button>
          <div class="home-actions-row">
            <button class="btn btn-success" id="completeSelectedBtn" disabled>最後まで読んだ！</button>
            <button class="btn btn-secondary" id="dropSelectedBtn" disabled>中断する</button>
            <div class="home-actions-menu">
              <button class="btn btn-secondary home-actions-menu-btn" id="bookActionsMenuBtn" disabled aria-label="その他のアクション">☰</button>
              <div class="home-actions-dropdown" id="bookActionsDropdown">
                <button class="home-actions-dropdown-item" id="editSelectedBtn">
                  <span>✏️</span>
                  <span>編集</span>
                </button>
                <button class="home-actions-dropdown-item" id="openLinkSelectedBtn">
                  <span>↗</span>
                  <span>リンクを開く</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- 書斎タブ -->
      <section class="tab" id="tab-study" role="tabpanel" aria-labelledby="nav-study">
        <div class="page-layout">
          <button class="term-hint term-hint--corner" data-term="study" aria-label="書斎の説明を見る">?</button>

          <div class="status-tabs" id="studyStatusTabs">
            <button class="status-tab" data-status="completed">
              <span class="status-icon">✅</span>
              <span class="status-label">読了</span>
              <span class="status-count" id="completedCount">0</span>
            </button>
            <button class="status-tab active" data-status="unread">
              <span class="status-icon">📚</span>
              <span class="status-label">未読</span>
              <span class="status-count" id="unreadCount">0</span>
            </button>
            <button class="status-tab" data-status="dropped">
              <span class="status-icon">⏸️</span>
              <span class="status-label">中断</span>
              <span class="status-count" id="droppedCount">0</span>
            </button>
          </div>

          <div class="shelf">
            <div class="shelf__board">
              <div class="shelf__visual" id="studyShelf"></div>
            </div>
          </div>

          <div id="studyBookList"></div>
        </div>
      </section>

      <!-- 本屋タブ -->
      <section class="tab" id="tab-store" role="tabpanel" aria-labelledby="nav-store">
        <div class="page-layout">
          <button class="term-hint term-hint--corner" data-term="store" aria-label="本屋の説明を見る">?</button>

          <div class="store-stats">
            <span class="store-count" id="wishlistCount">0</span>
            <span class="store-label">冊の本を見つけた</span>
          </div>

          <div class="shelf">
            <div class="shelf__board">
              <div class="shelf__visual" id="storeShelf"></div>
            </div>
          </div>

          <div id="storeBookList"></div>
        </div>
      </section>

      <!-- 本を手に入れた時のセレブレーション -->
  <div class="acquire-celebration" id="acquireCelebration">
    <div class="acquire-particles" id="acquireParticles"></div>
    <div class="acquire-content">
      <div class="acquire-book-visual" id="acquireBookVisual"></div>
      <div class="acquire-message">
        <div class="acquire-title">🎉 手に入れた！</div>
        <div class="acquire-book-name" id="acquireBookName"></div>
        <div class="acquire-hint">書斎の未読に追加されました</div>
      </div>
    </div>
      </div>

      <!-- 記録タブ -->
      <section class="tab" id="tab-stats" role="tabpanel" aria-labelledby="nav-stats">
    <div class="stats-grid">
      <div class="stats-card">
        <div class="stats-card-value" id="totalHours">0</div>
        <div class="stats-card-label">読んできた時間</div>
      </div>
      <div class="stats-card">
        <div class="stats-card-value" id="totalSessions">0</div>
        <div class="stats-card-label">本を開いた回数</div>
      </div>
      <div class="stats-card">
        <div class="stats-card-value" id="daysSince">1</div>
        <div class="stats-card-label">一緒に読書した日数</div>
      </div>
    </div>

    <h3 class="section-title">今週の読書</h3>
    <div class="week-chart" id="weekChart"></div>

    <h3 class="section-title">📅 読書カレンダー</h3>
    <div class="calendar-container">
      <div class="calendar-scroll" id="calendarScroll">
        <div class="calendar-grid" id="calendarGrid"></div>
      </div>
      <div class="calendar-legend">
        <span class="calendar-legend-label">少</span>
        <span class="calendar-cell level-0"></span>
        <span class="calendar-cell level-1"></span>
        <span class="calendar-cell level-2"></span>
        <span class="calendar-cell level-3"></span>
        <span class="calendar-cell level-4"></span>
        <span class="calendar-legend-label">多</span>
      </div>
    </div>

    <h3 class="section-title">📊 読書リズム</h3>
    <div class="rhythm-container">
      <div class="rhythm-grid" id="rhythmGrid"></div>
      <div class="rhythm-insight" id="rhythmInsight"></div>
    </div>

    <h3 class="section-title">📖 あなたらしい読書</h3>
    <div class="style-card style-card-focus">
      <span class="style-icon">🎯</span>
      <div class="style-content">
        <div class="style-value" id="avgFocus">--</div>
        <div class="style-label">いつもの集中タイム</div>
        <div class="style-hint">1回の読書で集中している時間</div>
      </div>
    </div>
    <div class="style-card style-card-time">
      <span class="style-icon" id="timeIcon">🌙</span>
      <div class="style-content">
        <div class="style-value" id="timeType">--</div>
        <div class="style-label">読書のゴールデンタイム</div>
        <div class="style-hint">あなたが本を開きやすい時間帯</div>
      </div>
    </div>

    <h3 class="section-title">🔮 この先の読書ライフ</h3>
    <div class="prediction-card prediction-card-yearly">
      <div class="prediction-item">
        <span class="prediction-icon">📈</span>
        <div class="prediction-content">
          <div class="prediction-value" id="yearlyPrediction">--冊</div>
          <div class="prediction-label">今年の読了予想</div>
          <div class="prediction-hint">このペースで読み続けると…</div>
        </div>
      </div>
    </div>

    <div class="tip">
      <span>💡</span>
      <span id="tipText">読書を始めて記録を作ろう</span>
    </div>
      </section>
    </main>

    <!-- 本追加FAB -->
    <button class="fab hidden" id="addBookFab" aria-label="本を追加">
      <span class="fab-icon" aria-hidden="true">＋</span>
    </button>

    <nav class="nav" role="tablist" aria-label="メインナビゲーション">
      <button class="active" id="nav-home" data-tab="home" role="tab" aria-selected="true" aria-controls="tab-home"><span aria-hidden="true">🎒</span><span>カバン</span></button>
      <button id="nav-study" data-tab="study" role="tab" aria-selected="false" aria-controls="tab-study"><span aria-hidden="true">🏠</span><span>書斎</span></button>
      <button id="nav-store" data-tab="store" role="tab" aria-selected="false" aria-controls="tab-store"><span aria-hidden="true">🏪</span><span>本屋</span></button>
      <button id="nav-stats" data-tab="stats" role="tab" aria-selected="false" aria-controls="tab-stats"><span aria-hidden="true">📊</span><span>統計</span></button>
    </nav>

  </div>

  <!-- 読書画面 -->
  <div class="reading-screen" id="readingScreen">
    <!-- 背景アンビエント効果 -->
    <div class="reading-ambient">
      <div class="reading-orb reading-orb--1"></div>
      <div class="reading-orb reading-orb--2"></div>
      <div class="reading-orb reading-orb--3"></div>
    </div>

    <!-- メインコンテンツ -->
    <div class="reading-content">
      <div class="reading-book" id="readingBook">
        <div class="reading-book__cover" id="readingBookCover">
          <span class="reading-book__icon">📖</span>
        </div>
        <div class="reading-book__glow"></div>
      </div>

      <div class="reading-info">
        <p class="reading-title" id="readingTitle"></p>
        <p class="reading-subtitle" id="readingSubtitle">今この瞬間に集中</p>
      </div>
    </div>

    <!-- フッター -->
    <div class="reading-footer">
      <button class="reading-end-btn" id="stopBtn">
        <span class="reading-end-btn__icon">✓</span>
        <span class="reading-end-btn__text">読書をおわる</span>
      </button>
    </div>
  </div>

  <!-- 本追加モーダル -->
  <div class="modal-overlay" id="addBookModal" role="dialog" aria-modal="true" aria-labelledby="addBookModalTitle">
    <div class="modal">
      <div class="modal-header">
        <h2 id="addBookModalTitle">本を追加</h2>
        <button class="modal-close" data-close="addBookModal" aria-label="閉じる">×</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">タイトル</label>
          <input type="text" class="form-input" id="bookInput" placeholder="例：人を動かす">
          <a href="#" id="amazonSearchLink" class="amazon-search-link" target="_blank" rel="noopener noreferrer" style="display: none;">
            📦 Amazonで検索してリンクを取得
          </a>
        </div>
        <div class="form-group">
          <label class="form-label">リンク先（任意）</label>
          <input type="url" class="form-input" id="linkInput" placeholder="AmazonのフルURL">
          <p class="form-hint">表紙画像の表示にはWebアプリのAmazonのURL（/dp/を含む）が必要です</p>
        </div>
        <button type="button" class="optional-field-toggle" id="triggerNoteToggle">
          <span class="optional-field-toggle__icon">+</span>
          <span class="optional-field-toggle__text">なぜこの本？を記録</span>
        </button>
        <div class="form-group" id="triggerNoteGroup" style="display: none;">
          <label class="form-label">なぜこの本？（任意）</label>
          <input type="text" class="form-input" id="bookCommentInput" placeholder="例：友人のおすすめ、書店で目に留まった">
        </div>
        <input type="hidden" id="addBookStatus" value="reading">
        <div class="form-group status-selector" id="studyStatusSelector" style="display: none;">
          <label class="form-label">ステータス</label>
          <div class="status-options">
            <label class="status-option">
              <input type="radio" name="studyStatus" value="unread" checked>
              <span class="status-option-label">📚 未読</span>
            </label>
            <label class="status-option">
              <input type="radio" name="studyStatus" value="completed">
              <span class="status-option-label">✅ 読了（過去に読んだ本）</span>
            </label>
            <label class="status-option">
              <input type="radio" name="studyStatus" value="dropped">
              <span class="status-option-label">⏸️ 中断（途中でやめた本）</span>
            </label>
          </div>
        </div>
        <label class="continue-checkbox">
          <input type="checkbox" id="continueAddCheckbox">
          <span>続けて追加</span>
        </label>
        <button class="btn btn-primary" id="addBookBtn">追加</button>
      </div>
    </div>
  </div>

  <!-- 編集モーダル -->
  <div class="modal-overlay" id="editBookModal" role="dialog" aria-modal="true" aria-labelledby="editBookModalTitle">
    <div class="modal">
      <div class="modal-header">
        <h2 id="editBookModalTitle">本を編集</h2>
        <button class="modal-close" data-close="editBookModal" aria-label="閉じる">×</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">タイトル</label>
          <input type="text" class="form-input" id="editBookTitle" placeholder="例：人を動かす">
        </div>
        <div class="form-group">
          <label class="form-label">リンク（任意）</label>
          <input type="url" class="form-input" id="editBookLink" placeholder="AmazonのフルURL">
          <p class="form-hint">表紙画像の表示にはWebアプリのAmazonのURL（/dp/を含む）が必要です</p>
        </div>
        <div class="form-group">
          <label class="form-label">ステータス</label>
          <select class="form-input" id="editBookStatus">
            <option value="reading">📖 読書中</option>
            <option value="completed">✅ 読了</option>
            <option value="unread">📚 未読</option>
            <option value="dropped">⏸️ 中断</option>
            <option value="wishlist">💭 気になる</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">きっかけ（任意）</label>
          <textarea class="form-input form-textarea" id="editBookNote" placeholder="なぜこの本を手に取った？" rows="3"></textarea>
        </div>
        <button class="btn btn-primary" id="saveEditBtn">保存</button>
        <button class="btn btn-secondary" data-close="editBookModal">キャンセル</button>
      </div>
    </div>
  </div>

  <!-- 設定モーダル -->
  <div class="modal-overlay" id="settingsModal" role="dialog" aria-modal="true" aria-labelledby="settingsModalTitle">
    <div class="modal">
      <div class="modal-header">
        <h2 id="settingsModalTitle">設定</h2>
        <button class="modal-close" data-close="settingsModal" aria-label="閉じる">×</button>
      </div>
      <div class="modal-body">
        <div class="settings-section">
          <h3 class="settings-section-title">❓ ヘルプ</h3>
          <button class="btn btn-secondary" id="showOnboardingBtn">📖 使い方を見る</button>
        </div>
        <div class="settings-section">
          <h3 class="settings-section-title">💾 データ管理</h3>
          <div class="storage-info">
            <div class="storage-label">ストレージ使用量</div>
            <div class="storage-bar">
              <div class="storage-bar-fill" id="storageBarFill"></div>
            </div>
            <div class="storage-text"><span id="storageUsed">0</span> KB / 5 MB</div>
          </div>
          <div class="settings-btns">
            <button class="btn btn-secondary" id="exportBtn">📤 バックアップ</button>
            <button class="btn btn-secondary" id="importBtn">📥 復元</button>
            <input type="file" id="importFile" accept=".json" style="display:none">
          </div>
        </div>
        <div class="settings-section">
          <h3 class="settings-section-title">🎮 デモ</h3>
          <button class="btn btn-secondary" id="sampleDataBtn">📚 サンプルデータを読み込む</button>
          <p class="settings-hint">既存データは上書きされます</p>
        </div>
        <div class="settings-section">
          <h3 class="settings-section-title">⚠️ 危険な操作</h3>
          <button class="btn btn-danger" id="resetBtn">すべてのデータをリセット</button>
          <p class="settings-hint">読書記録・登録した本がすべて削除されます</p>
        </div>
      </div>
    </div>
  </div>

  <!-- リセット確認 -->
  <div class="confirm-overlay" id="resetConfirm" role="alertdialog" aria-modal="true" aria-labelledby="resetConfirmTitle">
    <div class="confirm-box">
      <div class="confirm-icon" aria-hidden="true">⚠️</div>
      <div class="confirm-title" id="resetConfirmTitle">データをリセットしますか？</div>
      <div class="confirm-text">すべての記録が削除されます。この操作は取り消せません。</div>
      <div class="confirm-btns">
        <button class="confirm-cancel" data-close="resetConfirm">いいえ</button>
        <button class="confirm-ok" id="confirmResetBtn">はい</button>
      </div>
    </div>
  </div>

  <!-- サンプルデータ確認 -->
  <div class="confirm-overlay" id="sampleDataConfirm" role="alertdialog" aria-modal="true" aria-labelledby="sampleDataConfirmTitle">
    <div class="confirm-box">
      <div class="confirm-icon" aria-hidden="true">📚</div>
      <div class="confirm-title" id="sampleDataConfirmTitle">サンプルデータを読み込みますか？</div>
      <div class="confirm-text">既存データは上書きされます</div>
      <div class="confirm-btns">
        <button class="confirm-cancel" data-close="sampleDataConfirm">キャンセル</button>
        <button class="confirm-ok" id="confirmSampleBtn">読み込む</button>
      </div>
    </div>
  </div>

  <!-- 本削除確認 -->
  <div class="confirm-overlay" id="deleteConfirm" role="alertdialog" aria-modal="true" aria-labelledby="deleteBookTitle">
    <div class="confirm-box">
      <div class="confirm-icon" aria-hidden="true">📕</div>
      <div class="confirm-title" id="deleteBookTitle">「」</div>
      <div class="confirm-text">削除しますか？</div>
      <div class="confirm-btns">
        <button class="confirm-cancel" data-close="deleteConfirm">いいえ</button>
        <button class="confirm-ok" id="confirmDeleteBtn">はい</button>
      </div>
    </div>
  </div>

  <!-- 書籍詳細ダイアログ -->
  <div class="modal-overlay" id="bookDetailModal" role="dialog" aria-modal="true" aria-labelledby="bookDetailModalTitle">
    <div class="modal book-detail-modal">
      <div class="modal-header">
        <h2 id="bookDetailModalTitle">書籍詳細</h2>
        <button class="modal-close" data-close="bookDetailModal" aria-label="閉じる">×</button>
      </div>
      <div class="modal-body">
        <div class="book-detail-content">
          <div class="book-detail-cover" id="bookDetailCover"></div>
          <div class="book-detail-info">
            <div class="book-detail-title" id="bookDetailTitle"></div>
            <div class="book-detail-meta" id="bookDetailMeta"></div>
            <div class="book-detail-note" id="bookDetailNote"></div>
          </div>
        </div>
        <div class="book-detail-actions">
          <button class="btn btn-secondary book-detail-btn" id="bookDetailLinkBtn" style="display:none">
            <span>↗</span>
            <span>リンクを開く</span>
          </button>
          <button class="btn btn-secondary book-detail-btn" id="bookDetailEditBtn">
            <span>✏️</span>
            <span>編集</span>
          </button>
          <button class="btn btn-danger book-detail-btn" id="bookDetailDeleteBtn">
            <span>×</span>
            <span>削除</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- リンク確認 -->
  <div class="confirm-overlay" id="linkConfirm" role="alertdialog" aria-modal="true" aria-labelledby="linkConfirmTitle">
    <div class="confirm-box">
      <div class="confirm-icon" aria-hidden="true">🔗</div>
      <div class="confirm-title" id="linkConfirmTitle">外部リンクを開く</div>
      <div class="confirm-text" id="linkConfirmUrl"></div>
      <div class="confirm-btns">
        <button class="confirm-cancel" data-close="linkConfirm">キャンセル</button>
        <button class="confirm-ok link" id="confirmLinkBtn">開く</button>
      </div>
    </div>
  </div>

  <!-- 中断モーダル -->
  <div class="modal-overlay" id="dropBookModal" role="dialog" aria-modal="true" aria-labelledby="dropBookModalTitle">
    <div class="modal">
      <div class="modal-header">
        <h2 id="dropBookModalTitle">📑 どこまで読んだ？</h2>
        <button class="modal-close" data-close="dropBookModal" aria-label="閉じる">×</button>
      </div>
      <div class="modal-body">
        <div class="drop-book-info">
          <div class="drop-book-title" id="dropBookTitle"></div>
        </div>
        <div class="form-group">
          <input type="text" class="form-input" id="bookmarkInput" placeholder="例: 128ページ、第3章の途中...">
          <div class="form-hint">再開時に思い出せるメモを残せます（任意）</div>
        </div>
        <div class="modal-actions">
          <button class="btn btn-secondary" data-close="dropBookModal">キャンセル</button>
          <button class="btn btn-primary" id="confirmDropBtn">栞を挟む</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 読書終了時の栞モーダル -->
  <div class="modal-overlay" id="readingBookmarkModal" role="dialog" aria-modal="true" aria-labelledby="readingBookmarkModalTitle">
    <div class="modal">
      <div class="modal-header">
        <h2 id="readingBookmarkModalTitle">🔖 どこまで読んだ？</h2>
        <button class="modal-close" data-close="readingBookmarkModal" aria-label="閉じる">×</button>
      </div>
      <div class="modal-body">
        <div class="drop-book-info">
          <div class="drop-book-title" id="readingBookmarkBookTitle"></div>
        </div>
        <div class="form-group">
          <input type="text" class="form-input" id="readingBookmarkInput" placeholder="例: 128ページ、第3章の途中...">
          <div class="form-hint">次に読む時に思い出せます（任意）</div>
        </div>
        <div class="modal-actions">
          <button class="btn btn-secondary" id="skipReadingBookmarkBtn">スキップ</button>
          <button class="btn btn-primary" id="saveReadingBookmarkBtn">栞を挟む</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 読了時の感想モーダル -->
  <div class="modal-overlay" id="completeNoteModal" role="dialog" aria-modal="true" aria-labelledby="completeNoteModalTitle">
    <div class="modal">
      <div class="modal-header">
        <h2 id="completeNoteModalTitle">🎉 読了おめでとう！</h2>
        <button class="modal-close" data-close="completeNoteModal" aria-label="閉じる">×</button>
      </div>
      <div class="modal-body">
        <div class="drop-book-info">
          <div class="drop-book-title" id="completeNoteBookTitle"></div>
        </div>
        <div class="form-group">
          <label class="form-label">何が変わった？</label>
          <textarea class="form-input form-textarea" id="completeNoteInput" placeholder="この本で得た気づきや変化..." rows="3"></textarea>
          <div class="form-hint">読んで変わったことを残せます（任意）</div>
        </div>
        <div class="modal-actions">
          <button class="btn btn-secondary" id="skipCompleteNoteBtn">スキップ</button>
          <button class="btn btn-primary" id="saveCompleteNoteBtn">保存</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 再会モーダル -->
  <div class="modal-overlay" id="reunionModal" role="dialog" aria-modal="true" aria-labelledby="reunionModalTitle">
    <div class="modal reunion-modal">
      <div class="modal-header">
        <h2 id="reunionModalTitle">📚 久しぶりの再会</h2>
        <button class="modal-close" data-close="reunionModal" aria-label="閉じる">×</button>
      </div>
      <div class="modal-body">
        <div class="reunion-book-title" id="reunionBookTitle"></div>

        <div class="reunion-section" id="reunionTriggerSection">
          <div class="reunion-section-label">📌 きっかけ</div>
          <div class="reunion-section-content" id="reunionTriggerNote"></div>
        </div>

        <div class="reunion-section" id="reunionCompletionSection">
          <div class="reunion-section-label">✨ 読了時の感想</div>
          <div class="reunion-section-content" id="reunionCompletionNote"></div>
        </div>

        <div class="reunion-section" id="reunionReflectionsSection">
          <div class="reunion-section-label">🔄 過去の振り返り</div>
          <div class="reunion-reflections-list" id="reunionReflectionsList"></div>
        </div>

        <div class="form-group">
          <label class="form-label">今はどう思う？</label>
          <textarea class="form-input form-textarea" id="reunionInput" placeholder="あれから変わったこと、新しい気づき..." rows="3"></textarea>
        </div>

        <div class="modal-actions">
          <button class="btn btn-secondary" id="skipReunionBtn">また今度</button>
          <button class="btn btn-primary" id="saveReunionBtn">記録する</button>
        </div>
      </div>
    </div>
  </div>

  <!-- オンボーディングモーダル -->
  <div class="modal-overlay" id="onboardingModal" role="dialog" aria-modal="true" aria-labelledby="onboardingModalTitle">
    <div class="modal onboarding-modal">
      <div class="onboarding-content">
        <!-- ステップ1: Honokaの紹介 -->
        <div class="onboarding-step active" data-step="1">
          <div class="onboarding-icon">📖</div>
          <h2 class="onboarding-title" id="onboardingModalTitle">Honokaへようこそ</h2>
          <p class="onboarding-text">シンプルな読書記録アプリです<br>読書習慣をつけるお手伝いをします</p>
        </div>

        <!-- ステップ2: 課題への共感 -->
        <div class="onboarding-step" data-step="2">
          <div class="onboarding-icon">📚</div>
          <h2 class="onboarding-title">こんな悩み、ありませんか？</h2>
          <div class="onboarding-problems">
            <div class="onboarding-problem-item">
              <span class="onboarding-problem-icon">😓</span>
              <span class="onboarding-problem-text">未読が多すぎて何を読んでないか分からない</span>
            </div>
            <div class="onboarding-problem-item">
              <span class="onboarding-problem-icon">📱</span>
              <span class="onboarding-problem-text">ついスマホを触って読書時間がとれない</span>
            </div>
            <div class="onboarding-problem-item">
              <span class="onboarding-problem-icon">🤷</span>
              <span class="onboarding-problem-text">紙の本、電子書籍、借りた本...どこで管理する？</span>
            </div>
          </div>
        </div>

        <!-- ステップ3: 本の管理 -->
        <div class="onboarding-step" data-step="3">
          <div class="onboarding-icon">🗂️</div>
          <h2 class="onboarding-title">本の居場所を整理</h2>
          <p class="onboarding-text">本を3つの場所で管理するから<br>「何を読んでないか」が一目でわかる</p>
          <div class="onboarding-tabs-preview">
            <div class="onboarding-tab-item">
              <span class="onboarding-tab-icon">🎒</span>
              <span class="onboarding-tab-name">カバン</span>
              <span class="onboarding-tab-desc">今読んでいる本</span>
            </div>
            <div class="onboarding-tab-item">
              <span class="onboarding-tab-icon">🏠</span>
              <span class="onboarding-tab-name">書斎</span>
              <span class="onboarding-tab-desc">紙も電子も、なんでも</span>
            </div>
            <div class="onboarding-tab-item">
              <span class="onboarding-tab-icon">🏪</span>
              <span class="onboarding-tab-name">本屋</span>
              <span class="onboarding-tab-desc">気になる本リスト</span>
            </div>
          </div>
        </div>

        <!-- ステップ4: 使い方1 - 本を追加しよう -->
        <div class="onboarding-step" data-step="4">
          <div class="onboarding-icon">➕</div>
          <h2 class="onboarding-title">本を追加しよう</h2>
          <p class="onboarding-text">まずは本を登録してみましょう</p>
          <div class="onboarding-how-to">
            <div class="onboarding-how-to-item">
              <span class="onboarding-how-to-number">1</span>
              <span class="onboarding-how-to-text">画面下の<strong>＋ボタン</strong>をタップ</span>
            </div>
            <div class="onboarding-how-to-item">
              <span class="onboarding-how-to-number">2</span>
              <span class="onboarding-how-to-text"><strong>タイトル</strong>を入力</span>
            </div>
            <div class="onboarding-how-to-item">
              <span class="onboarding-how-to-number">3</span>
              <span class="onboarding-how-to-text"><strong>保管場所</strong>を選んで追加</span>
            </div>
          </div>
        </div>

        <!-- ステップ5: 使い方2 - カバンに入れて読もう -->
        <div class="onboarding-step" data-step="5">
          <div class="onboarding-icon">📖</div>
          <h2 class="onboarding-title">カバンに入れて読もう</h2>
          <p class="onboarding-text">読みたい本をカバンに入れて読書開始</p>
          <div class="onboarding-how-to">
            <div class="onboarding-how-to-item">
              <span class="onboarding-how-to-number">1</span>
              <span class="onboarding-how-to-text">本をタップして<strong>カバンに入れる</strong></span>
            </div>
            <div class="onboarding-how-to-item">
              <span class="onboarding-how-to-number">2</span>
              <span class="onboarding-how-to-text">カバン画面から<strong>タイマー</strong>で読書開始</span>
            </div>
          </div>
        </div>

        <!-- ステップ6: 使い方3 - 読み終えたら -->
        <div class="onboarding-step" data-step="6">
          <div class="onboarding-icon">🎉</div>
          <h2 class="onboarding-title">読み終えたら</h2>
          <p class="onboarding-text">読了を記録して書斎に保管</p>
          <div class="onboarding-how-to">
            <div class="onboarding-how-to-item">
              <span class="onboarding-how-to-number">1</span>
              <span class="onboarding-how-to-text">本をタップして<strong>読み終えた</strong>を選択</span>
            </div>
            <div class="onboarding-how-to-item">
              <span class="onboarding-how-to-number">2</span>
              <span class="onboarding-how-to-text"><strong>書斎</strong>に保管されて読書記録に</span>
            </div>
          </div>
        </div>

        <!-- ステップ7: さあ始めよう -->
        <div class="onboarding-step" data-step="7">
          <div class="onboarding-icon">✨</div>
          <h2 class="onboarding-title">さあ、始めよう</h2>
          <p class="onboarding-text">最初の一冊を追加して<br>読書の火を灯しましょう</p>
        </div>
      </div>

      <div class="onboarding-footer">
        <div class="onboarding-dots">
          <span class="onboarding-dot active" data-dot="1"></span>
          <span class="onboarding-dot" data-dot="2"></span>
          <span class="onboarding-dot" data-dot="3"></span>
          <span class="onboarding-dot" data-dot="4"></span>
          <span class="onboarding-dot" data-dot="5"></span>
          <span class="onboarding-dot" data-dot="6"></span>
          <span class="onboarding-dot" data-dot="7"></span>
        </div>
        <div class="onboarding-actions">
          <button class="btn btn-secondary onboarding-back" id="onboardingBack">戻る</button>
          <button class="btn btn-primary onboarding-next" id="onboardingNext">次へ</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="js/app.js"></script>
</body>
</html>
